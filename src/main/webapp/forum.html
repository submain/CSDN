<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title>论坛</title>
        <link rel="stylesheet" type="text/css" href="css/css.css"/>
        <link rel="stylesheet" type="text/css" href="layui/css/layui.css"/>
        <script type="text/javascript" src="./kindeditor/kindeditor-all.js"></script>
        <script type="text/javascript" src="./kindeditor/lang/zh-CN.js"></script>
        <script src="js/jquery.js"></script>
        <script src="js/download.js"></script>
        <script type="text/javascript" src="syntax/scripts/shCore.js"></script>
        <script type="text/javascript" src="syntax/scripts/shBrushJScript.js"></script>
        <script type="text/javascript" src="syntax/scripts/shBrushXml.js"></script>
        <script type="text/javascript" src="syntax/scripts/shBrushJava.js"></script>
        <script type="text/javascript" src="syntax/scripts/shBrushCss.js"></script>
        <script type="text/javascript" src="syntax/scripts/shBrushPython.js"></script>
        <script type="text/javascript" src="syntax/scripts/shBrushPhp.js"></script>
        <link type="text/css" rel="stylesheet" href="syntax/styles/shCoreDefault.css"/>
        <style>
            .NAV .NAV-mian-left .top {
                display: flex;
                justify-content: space-between;
                width: 890px;
                height: 30px;
                background-color: #E3E6E8;
                margin-top: 10px;
                padding: 10px;
                box-sizing: border-box;
            }

            .Faquality:hover .quality {
                display: block;
            }

            .quality {
                display: none;
            }

            .TOP .TOP-nav .Faquality .quality {
                padding: 10px;
                box-sizing: border-box;
                /*margin-top: 5px;*/
            }
            /*.MajorBBS{*/
                /*padding: 10px;*/
                /*box-sizing: border-box;*/
            /*}*/
            .MajorBBS thead th,.MajorBBS tbody td{
                background-color: white;
                width: 890px;
                /*height: 20px;*/
                text-align: center;
                line-height: 25px;
            }
            .MajorBBS thead th a{
                color: #337ABD;
                cursor: pointer;
                font-size: 12px;
            }

            .TOP .TOP-nav .Faquality .quality thead th,
            .TOP .TOP-nav .Faquality .quality tbody td {
                /*margin-top: 10px;*/
                width: 160px;
                /*height: 20px;*/
                text-align: center;
                line-height: 25px;
            }

            .TOP .TOP-nav .Faquality .quality tbody td a {
                color: #337ABD;
                cursor: pointer;
                font-size: 12px;
            }

            /*.TOP .TOP-nav .Faquality .quality tbody td:hover {*/
            /*color: red;*/
            /*}*/

            .left-nav {
                width: 200px;
                min-height: 800px;
                border: 2px #E3E6E8 solid;
                /*background-color: #0C0C0C;*/
                position: fixed;
                top: 100px;
                z-index: 99999;
                /*overflow: hidden;*/
            }

            .shousuo {
                position: fixed;
                z-index: 9999999;
                left: 200px;
                top: 360px;
            }

            .NAV-upload {
                background-color: white;
                width: 960px;
                margin: 0 auto;
                min-height: 1000px;
                padding: 20px;
                box-sizing: border-box;
               overflow: hidden;
            }

            .NAV-upload .textareaContain, #preview {
                margin-top: 10px;
                min-height: 500px;
                width: 920px;
                /*margin: 0 auto;*/
                margin-bottom: 20px;
                background-color: white;
            }

            #preview {
                border: #CCCCCC 1px solid;
            }

            .NAV-upload .textareaContain textarea {
                width: 100%;
                height:500px;
            }


        </style>
    </head>

    <body>
        <header>
        </header>
        <div class="shousuo">
            <input type="button"
                   style="background: url('img/_20190815190550.png');background-repeat: no-repeat;width: 20px;height: 100px;border: none"
                   value="">
        </div>
        <div class="left-nav">

            <div id="treemenu" style="font-size: 12px">

            </div>


        </div>
        <div class="TOP">
            <div class="TOP-nav">
                <div id="home" style="cursor:pointer;">论坛首页</div>
                <div class="Faquality" style="cursor:pointer;position: relative">精选模块
                    <div class="quality"
                         style="position: absolute;width:550px;height: 400px;background: #EAEBEC;z-index: 999999;box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3);">
                        <table>
                            <thead>
                            <tr>
                                <th><a href="/forumsubdivide.html?id=5&pid=0">移动开发</a></th>
                                <th><a href="/forumsubdivide.html?id=6&pid=0">云计算</a></th>
                                <th><a href="/forumsubdivide.html?id=11&pid=0">Java技术</a></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=58&pid=5">iOS</a><a
                                        href="/forumsubdivide.html?id=59&pid=5">Android</a><a
                                        href="/forumsubdivide.html?id=65&pid=5">Qt</a></td>
                                <td><a href="/forumsubdivide.html?id=251&pid=6">IaaSPass/SaaS</a></td>
                                <td><a href="/forumsubdivide.html?id=94&pid=11">Java SE</a></td>
                            </tr>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=62&pid=5">WP</a></td>
                                <td><a href="/forumsubdivide.html?id=253&pid=6">服务器</a></td>
                                <td><a href="/forumsubdivide.html?id=96&pid=11">Java Web 开发</a></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td><a href="/forumsubdivide.html?id=99&pid=11">Java EEJava其他相关</a></td>
                            </tr>
                            </tbody>
                        </table>
                        <table>
                            <thead>
                            <tr>
                                <th><a href="/forumsubdivide.html?id=10&pid=0">.NET技术</a></th>
                                <th><a href="/forumsubdivide.html?id=12&pid=0">Web开发</a></th>
                                <th><a href="/forumsubdivide.html?id=13&pid=0">开发语言/框架</a></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=82&pid=10">.NET Framework</a></td>
                                <td><a href="/forumsubdivide.html?id=103&pid=12">PHPJavaScript</a></td>
                                <td><a href="/forumsubdivide.html?id=118&pid=13">DelphiVC/MFCVB</a></td>
                            </tr>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=83&pid=10">WP</a></td>
                                <td><a href="/forumsubdivide.html?id=256&pid=251">分布式计算/Hadoop</a></td>
                                <td><a href="/forumsubdivide.html?id=96&pid=11">Java Web 开发</a></td>
                            </tr>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=80&pid=10">C#.NET</a></td>
                                <td><a href="/forumsubdivide.html?id=116&pid=12">HTML(CSS)HTML5</a></td>
                                <td><a href="/forumsubdivide.html?id=121&pid=13">C/C++C++ Builder</a></td>
                            </tr>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=101&pid=12">ASP .NETVB .NET</a></td>
                                <td><a href="/forumsubdivide.html?id=110&pid=12">Apache</a></td>
                                <td><a href="/forumsubdivide.html?id=123&pid=13">其他开发语言</a></td>
                            </tr>
                            </tbody>
                        </table>
                        <table>
                            <thead>
                            <tr>
                                <th><a href="/forumsubdivide.html?id=14&pid=0">数据库开发</a></th>
                                <th><a href="/forumsubdivide.html?id=17&pid=0">硬件/嵌入式开发</a></th>
                                <th><a href="/forumsubdivide.html?id=15&pid=0">Linux/Unix社区</a></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=125&pid=14">.MS-SQL Server</a></td>
                                <td><a href="/forumsubdivide.html?id=151&pid=17">嵌入开发(WinCE)</a></td>
                                <td><a href="/forumsubdivide.html?id=130&pid=15">系统维护与使用区</a></td>
                            </tr>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=127&pid=14">OraclePowerBuilder</a></td>
                                <td><a href="/forumsubdivide.html?id=153&pid=17">驱动开发/核心开发</a></td>
                                <td><a href="/forumsubdivide.html?id=131&pid=15">应用程序开发区</a></td>
                            </tr>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=128&pid=14">Informatica</a></td>
                                <td><a href="/forumsubdivide.html?id=153&pid=17">硬件设计单片机/工控</a></td>
                                <td><a href="/forumsubdivide.html?id=132&pid=15">内核源代码研究区</a></td>
                            </tr>
                            <tr>
                                <td><a href="/forumsubdivide.html?id=129&pid=14">其他数据库开发</a></td>
                                <td><a href="/forumsubdivide.html?id=123&pid=13">汇编语言</a></td>
                                <td><a href="/forumsubdivide.html?id=153&pid=17">驱动程序开发区</a></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><a href="/forumsubdivide.html?id=157&pid=17">VxWorks开发</a></td>
                                <td><a href="/forumsubdivide.html?id=134&pid=15">CPU和硬件区</a></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="upload" style="cursor:pointer;">我要发帖</div>
            </div>
        </div>
        <div class="NAV">
            <div class="NAV-mian-left">

                <div class="ad">

                </div>
                
                <!--模块-->
                <div class="HotSkill">
                    <div class="top"><span>热帖.技术区</span><span><a href="hotforumsubdivide.html">更多</a></span></div>
                    <table class="layui-table" lay-skin="line">
                        <colgroup>
                            <col width="600">
                            <col width="150">
                            <col>
                        </colgroup>
                        <thead>
                        <tr>
                            <th>标题</th>
                            <th>提问人</th>
                            <th>人气</th>
                        </tr>
                        </thead>
                        <tbody class="tbHotSkill">

                        </tbody>
                    </table>
                </div>
                <div class="FrumSkill">
                    <div class="top"><span>版主推荐.技术区</span><span><a href="Allforumsubdivide.html">更多</a></span></div>
                    <table class="layui-table" lay-skin="line">
                        <colgroup>
                            <col width="700">
                        </colgroup>
                        <tbody class="tbFrumSkill">
                        </tbody>
                    </table>
                </div>
                <div class="HotLiving">
                    <div class="top"><span>热帖.生活区</span><span><a href="forumsubdivide.html?id=182&pid=20">更多</a></span></div>
                    <table class="layui-table" lay-skin="line">
                        <colgroup>
                            <col width="600">
                            <col width="150">
                            <col>
                        </colgroup>
                        <thead>
                        <tr>
                            <th>标题</th>
                            <th>提问人</th>
                            <th>人气</th>
                        </tr>
                        </thead>
                        <tbody class="tbHotLiving">

                        </tbody>
                    </table>
                </div>
                <div class="ForumLiving">
                    <div class="top"><span>版主推荐.生活区</span><span><a href="forumsubdivide.html?id=226&pid=24">更多</a></span></div>
                    <table class="layui-table" lay-skin="line">
                        <colgroup>
                            <col width="700">
                        </colgroup>
                        <tbody class="tbForumLiving">

                        </tbody>
                    </table>
                </div>
                <div class="MajorBBS">
                    <div class="top"><span>主要论坛分类</span></div>
                    <table>
                        <thead>
                        <tr>
                            <th><a href="/forumsubdivide.html?id=5&pid=0">移动开发</a></th>
                            <th><a href="/forumsubdivide.html?id=6&pid=0">云计算</a></th>
                            <th><a href="/forumsubdivide.html?id=11&pid=0">Java技术</a></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=58&pid=5">iOS</a><a
                                    href="/forumsubdivide.html?id=59&pid=5">Android</a><a
                                    href="/forumsubdivide.html?id=65&pid=5">Qt</a></td>
                            <td><a href="/forumsubdivide.html?id=251&pid=6">IaaSPass/SaaS</a></td>
                            <td><a href="/forumsubdivide.html?id=94&pid=11">Java SE</a></td>
                        </tr>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=62&pid=5">WP</a></td>
                            <td><a href="/forumsubdivide.html?id=253&pid=6">服务器</a></td>
                            <td><a href="/forumsubdivide.html?id=96&pid=11">Java Web 开发</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td><a href="/forumsubdivide.html?id=99&pid=11">Java EEJava其他相关</a></td>
                        </tr>
                        </tbody>
                    </table>
                    <div style="border-bottom:1px dashed #E3E6E8;"></div>
                    <table>
                        <thead>
                        <tr>
                            <th><a href="/forumsubdivide.html?id=10&pid=0">.NET技术</a></th>
                            <th><a href="/forumsubdivide.html?id=12&pid=0">Web开发</a></th>
                            <th><a href="/forumsubdivide.html?id=13&pid=0">开发语言/框架</a></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=82&pid=10">.NET Framework</a></td>
                            <td><a href="/forumsubdivide.html?id=103&pid=12">PHPJavaScript</a></td>
                            <td><a href="/forumsubdivide.html?id=118&pid=13">DelphiVC/MFCVB</a></td>
                        </tr>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=83&pid=10">WP</a></td>
                            <td><a href="/forumsubdivide.html?id=256&pid=251">分布式计算/Hadoop</a></td>
                            <td><a href="/forumsubdivide.html?id=96&pid=11">Java Web 开发</a></td>
                        </tr>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=80&pid=10">C#.NET</a></td>
                            <td><a href="/forumsubdivide.html?id=116&pid=12">HTML(CSS)HTML5</a></td>
                            <td><a href="/forumsubdivide.html?id=121&pid=13">C/C++C++ Builder</a></td>
                        </tr>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=101&pid=12">ASP .NETVB .NET</a></td>
                            <td><a href="/forumsubdivide.html?id=110&pid=12">Apache</a></td>
                            <td><a href="/forumsubdivide.html?id=123&pid=13">其他开发语言</a></td>
                        </tr>
                        </tbody>
                    </table>
                    <div style="border-bottom:1px dashed #E3E6E8;"></div>
                    <table>
                        <thead>
                        <tr>
                            <th><a href="/forumsubdivide.html?id=14&pid=0">数据库开发</a></th>
                            <th><a href="/forumsubdivide.html?id=17&pid=0">硬件/嵌入式开发</a></th>
                            <th><a href="/forumsubdivide.html?id=15&pid=0">Linux/Unix社区</a></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=125&pid=14">.MS-SQL Server</a></td>
                            <td><a href="/forumsubdivide.html?id=151&pid=17">嵌入开发(WinCE)</a></td>
                            <td><a href="/forumsubdivide.html?id=130&pid=15">系统维护与使用区</a></td>
                        </tr>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=127&pid=14">OraclePowerBuilder</a></td>
                            <td><a href="/forumsubdivide.html?id=153&pid=17">驱动开发/核心开发</a></td>
                            <td><a href="/forumsubdivide.html?id=131&pid=15">应用程序开发区</a></td>
                        </tr>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=128&pid=14">Informatica</a></td>
                            <td><a href="/forumsubdivide.html?id=153&pid=17">硬件设计单片机/工控</a></td>
                            <td><a href="/forumsubdivide.html?id=132&pid=15">内核源代码研究区</a></td>
                        </tr>
                        <tr>
                            <td><a href="/forumsubdivide.html?id=129&pid=14">其他数据库开发</a></td>
                            <td><a href="/forumsubdivide.html?id=123&pid=13">汇编语言</a></td>
                            <td><a href="/forumsubdivide.html?id=153&pid=17">驱动程序开发区</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><a href="/forumsubdivide.html?id=157&pid=17">VxWorks开发</a></td>
                            <td><a href="/forumsubdivide.html?id=134&pid=15">CPU和硬件区</a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="NAV-mian-right">
                <div class="ad">
                    <img src="img/81e20dc4f4c66655f3658c3a0fc86f98.png"/>
                </div>
                <div class="upload" id="uploadIndex">

                </div>
                <div>
                    <img src="img/_20190815192045.png" alt="">
                </div>
                <!--<div class="recommend">-->
                    <!--<div class="top" style="display: flex;justify-content : space-between;">-->
                        <!--<div class="left">-->
                            <!--<span style="font-size: 16px;">精品推荐</span>-->
                        <!--</div>-->
                        <!--<div class="right">-->
								<!--<span style="color: #888;font-size: 14px;">-->
								<!--更多-->
							     <!--</span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="list">-->
                        <!--<div class="title">-->
                            <!--机器学习极简入门课-->
                        <!--</div>-->
                        <!--<div class="author" style="border-bottom: 1px #E6E6E6 solid;height: 30px;margin-top: 10px;">-->
							<!--<span style="color: #888;font-size: 14px;">-->
									<!--作者/分享人：李烨 · 微软高级软件工程师-->
							     <!--</span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="list">-->
                        <!--<div class="title">-->
                            <!--机器学习极简入门课-->
                        <!--</div>-->
                        <!--<div class="author" style="border-bottom: 1px #E6E6E6 solid;height: 30px;margin-top: 10px;">-->
							<!--<span style="color: #888;font-size: 14px;">-->
									<!--作者/分享人：李烨 · 微软高级软件工程师-->
							     <!--</span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="list">-->
                        <!--<div class="title">-->
                            <!--机器学习极简入门课-->
                        <!--</div>-->
                        <!--<div class="author" style="border-bottom: 1px #E6E6E6 solid;height: 30px;margin-top: 10px;">-->
							<!--<span style="color: #888;font-size: 14px;">-->
									<!--作者/分享人：李烨 · 微软高级软件工程师-->
							     <!--</span>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
                <div class="weichat">
                    <img src="img/_20190814121422.png"/>
                </div>
            </div>
        </div>
        <div class="NAV-upload">
            <div class="context">
                <form class="layui-form" action="" onSubmit="return false;">
                    <div class="layui-form-item">
                        <!--<label class="layui-form-label">输入标题</label>-->
                        <!--<div class="layui-input-block">-->
                        <input type="text" name="title" required lay-verify="required" placeholder="请输入标题"
                               autocomplete="off" class="layui-input">
                        <!--</div>-->
                    </div>
                    <div class="layui-tab">
                        <ul class="layui-tab-title">
                            <li class="layui-this">编辑</li>
                            <li id="previewbtn">预览</li>
                        </ul>
                        <div class="layui-tab-content">
                            <div class="layui-tab-item layui-show">
                                <div class="textareaContain">

                                    <textarea id="editor_id" name="content"></textarea>
                                </div>
                            </div>
                            <div class="layui-tab-item">
                                <div id="preview">
                                    <!--<pre class="brush:js">DFASFSDFSDFAS</pre>-->
                                </div>
                            </div>
                        </div>
                    </div>

                    <span style="float: right">你还可以输入10000个字符</span>
                    <div class="layui-form-item">
                        <label class="layui-form-label" style="width: 100px">主题板块</label>
                        <div class="layui-input-inline">
                            <select name="categoryid" lay-verify="required" id="category1" lay-filter="cate1">

                            </select>
                        </div>
                        <div class="layui-input-inline">
                            <select name="categoryid2" lay-verify="required" id="category2">

                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <button class="layui-btn kwSumbit" lay-submit lay-filter="createComment" >立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                        </div>
                    </div>
                </form>

                <div style="font-size: 12px;border:1px dashed #CCCCCC;">
                    <p style="margin: 20px auto"> 请遵守CSDN用户行为准则，不得违反国家法律法规。</p>
                    <p style="margin: 20px auto">转载文章请注明出自“CSDN（www.csdn.net）”，如是商业用途请联系原作者。</p>
                    <p style="margin: 20px auto">为了维护良好的技术讨论环境，请不要讨论政治 相关话题。</p>
                </div>
            </div>
        </div>
        <div class="flooter">
        <img src="img/_20190814163718.png"/>
        </div>
    </body>

    <script src="layui/layui.all.js"></script>
    <script>
        // 树状
        var type=0;
        var content = null;
        var user = getUser();
        var userid = 0;
        if (user) {
            userid = user.userId
        }
        var invitation = null;
        var url = null;
        $(function () {
            if (userid == 0) {
                var html = ` <a href="login.html"><img src="img/_fsdfsdf.png" alt=""style="margin-left: -20px;margin-top: -20px"></a>`
                $("#uploadIndex").append(html)
            } else {
                var html = ` <div class="top">
                        <div class="top-lef"><a href="perInfor.html?viewUserId=`+userid+`&type=blog"> <img class="headimg" style="width: 48px;height: 48px;border-radius: 24px;"
                                 src="` + user.headImg + `"/></a>

                        </div>
                        <div class="top-rig">
                            <div class="username">
                                <a href="">` + user.username + `</a>
                            </div>
                            <div class="grade">
                                <div class="img">
                                    <img src="img/down1.png"/>
                                </div>
                                <div class=="context">
									<span style="color: #888;font-size: 12px;">
								积分：
							     </span>
                                    <span style="color: red;">` + user.downloadmoney + `</span>
                                </div>
                            </div>
                        </div>
                    </div>`;
                $("#uploadIndex").append(html)
            }
            xuran()
            taplan(getQueryString("type"))
            ajaxGetCategory()
            getMenu()
        })

        //获取当前用户
        function getUser() {
            var data;
            $.ajax({
                url: "isEnter"
                , type: "get"
                , dataType: "json"
                , async: false
                , success: function (jsonData) {
                    //////////////console.log(jsonData)
                    if (jsonData.success == 1) {
                        data = jsonData.data;
                    }
                }
                , error: function (res) {
                    //////////////console.log("ajax提交错误")
                }
            })
            return data;
        }


        $("#myresources").click(function () {
            $("#count").empty()
            $("#top").empty()
            window.history.pushState({status: 0} ,'' ,'?type=2')
            taplan(2)

        })
        $("#home").click(function () {
            taplan(1)
            window.history.pushState({status: 0} ,'' ,'?type=1')
        })

        $("#upload").click(function () {
            taplan(3)
            window.history.pushState({status: 0} ,'' ,'?type=3')

        })
        function taplan(type){
            $("#cldtop-rig").hide()

            if (type==null){
                $(".NAV-myresouces").hide();
                $(".NAV-upload").hide()
                $(".NAV").show()
                $("#home").css("border-bottom", "2px red solid")
                $("#myresources").css("border-bottom", "none")
                $("#upload").css("border-bottom", "none")
            } else {
                if (type==1){
                    $(".NAV-myresouces").hide();
                    $(".NAV-upload").hide()
                    $(".NAV").show()
                    $("#home").css("border-bottom", "2px red solid")
                    $("#myresources").css("border-bottom", "none")
                    $("#upload").css("border-bottom", "none")
                } else if(type==2){
                    if (userid==0){
                        layer.open({
                            content: '你还未登录'
                            , btn: ['登录', '退出']
                            , yes: function (index, layero) {
                                //按钮【按钮一】的回调
                                location.href = "login.html";
                                layer.close(index);
                            }
                            , btn2: function (index, layero) {
                                layer.close(index);
                            }
                        });
                        return false;
                    } else {
                        $(".NAV-upload").hide()
                        $(".NAV-myresouces").show();
                        $(".NAV").hide()
                        $("#home").css("border-bottom", "none")
                        $("#myresources").css("border-bottom", "2px red solid")
                        $("#upload").css("border-bottom", "none")
                        people()
                    }

                }else if(type==3){
                    $(".NAV-upload").show();
                    $(".NAV-myresouces").hide();
                    $(".NAV").hide()
                    $("#home").css("border-bottom", "none")
                    $("#myresources").css("border-bottom", "none")
                    $("#upload").css("border-bottom", "2px red solid")
                }
            }
        }
        var tree;
        layui.use('tree', function () {
            tree = layui.tree;
        });

        // ajax获取资源方法
        function ajaxGetCategory() {
            $.ajax({
                url: "findAllforumCategory",
                type: "get",
                dataType: "json",
                success: function (jsonData) {
                    Category = jsonData.data;
                    insetCategory(Category);
                }
            })

        }

        // 页面渲染
        function xuran() {
            var page=1;
            var pageSize=4;
            $.ajax({
                url: "findMaxreadCountInvitation",
                type: "get",
                data:{"page":page,"pageSize":pageSize},
                dataType: "json",
                success: function (jsonData) {
                    var  data = jsonData.data;
                   ////console.log(data)
                    var html='';
                    $.each(data,function (k,v) {
                        html=`  <tr>
                            <td style="display: flex"><div style="width: 40px;height: 20px;background-color:#FFBB66;color: white;margin-right: 10px;text-align: center">`+v.publishForm+`</div><a href="invitation_Details.html?invitationId=`+v.id+`">`+v.title+`</a></td>
                            <td>`+v.user.username+`</td>
                            <td>(`+v.readCount+`)人气</td>
                        </tr>`;
                        $(".tbHotSkill").append(html);
                    })
                }
            })
            $.ajax({
                url: "findAllInvitations",
                type: "get",
                data:{"page":page,"pageSize":pageSize},
                dataType: "json",
                success: function (jsonData) {
                    var  data = jsonData.data;
                   ////console.log(data)
                    var html='';
                    $.each(data,function (k,v) {
                        html=`  <tr>
                            <td style="display: flex"><div style="width: 70px;height: 20px;color: #97C8F4;margin-right: 10px;text-align: center">版主推荐</div><a href="invitation_Details.html?invitationId=`+v.id+`">`+v.title+`</a></td>
                            <td>`+v.createtime+`</td>
                        </tr>`;
                        $(".tbFrumSkill").append(html);
                    })
                }
            })
            $.ajax({
                url: "findAspam",
                type: "get",
                data:{"page":page,"pageSize":pageSize},
                dataType: "json",
                success: function (jsonData) {
                    var  data = jsonData.data;
                   //console.log(data)
                    var html='';
                    $.each(data,function (k,v) {
                        html=`  <tr>
                            <td style="display: flex"><div style="width: 70px;height: 20px;color: #D5AA83;margin-right: 10px;text-align: center">灌水乐园</div><a href="invitation_Details.html?invitationId=`+v.id+`">`+v.title+`</a></td>
                            <td>`+v.user.username+`</td>
                            <td>(`+v.readCount+`)人气</td>
                        </tr>`;
                        $(".tbHotLiving").append(html);
                    })
                }
            })
            $.ajax({
                url: "findNotice",
                type: "get",
                data:{"page":page,"pageSize":pageSize},
                dataType: "json",
                success: function (jsonData) {
                    var  data = jsonData.data;
                    //console.log(data)
                    var html='';
                    $.each(data,function (k,v) {
                        html=`  <tr>
                            <td style="display: flex"><div style="width: 70px;height: 20px;color: #A6A9DF;margin-right: 10px;text-align: center">公告</div><a href="invitation_Details.html?invitationId=`+v.id+`">`+v.title+`</a></td>
                             <td>`+v.createtime+`</td>
                        </tr>`;
                        $(".tbForumLiving").append(html);
                    })
                }
            })

        }
        function getQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return r[2];
            return null;
        }
        function insetCategory(Category) {
            // var data=[{title:"总大类",children:Category}];
            var data = Category;
            var inst1 = tree.render({
                elem: '#treemenu'  //绑定元素
                , data: data
                , click: function (obj) {
                    ////console.log(obj.data); //得到当前点击的节点数据
                    ////console.log(obj.state); //得到当前节点的展开状态：open、close、normal
                    ////console.log(obj.elem); //得到当前节点元素
                    ////console.log(obj.data.children); //当前节点下是否有子节点
                    location.href = "forumsubdivide.html?id=" + obj.data.id + "&pid=" + obj.data.pid;
                }
            });
        }



        // 渲染二级菜单
        function getMenu() {
            // console(aaaaa)
            $.ajax({
                url: "findAllforumCategory"
                , type: "get"
                , dataType: "json"
                , success: function (jsonData) {
                    ////////////console.log(jsonData)
                    var data = jsonData.data;
                    // if (jsonData.success == 1) {
                    //     data = jsonData.data;
                    // }
                    var html = '';
                    var html2 = '<option value="">选择大模块</option>';
                    $.each(data, function (k, v) {
                        html = `<a href="javascript:void(0)"> <input class="feilei" type="hidden" value="` + v.id + `">` + v.title + `</a>`;
                        html2 += ` <option value="` + v.id + `">` + v.title + `</option>`;
                        $("#top-rig").append(html);

                    })
                    $("#category1").html(html2);
                    form.render("select");
                }
                , error: function (res) {
                    //////////////console.log("ajax提交错误")
                }
            })
        }

        function ajaxGetCategory2(pid) {
            // var data=getsecMenu(pid);
            $.ajax({
                url: "findforumCategoryByPid"
                , type: "GET"
                , data: {"pid": pid}
                , dataType: "json"
                // , async: false
                , success: function (jsonData) {
                    //////////console.log(jsonData)
                    var data = jsonData.data;
                    var html = '<option value="">选择小模块</option>';
                    $.each(data, function (k, v) {
                        //////////console.log(v)
                        html += ` <option value="` + v.id + `">` + v.title + `</option>`;

                    });
                    $("#category2").html(html);
                    form.render("select");
                }
                , error: function (res) {
                    //////////////console.log("ajax提交错误")
                }
            })

        }




        // 编辑器

        KindEditor.ready(function (K) {
            window.editor = K.create('#editor_id', {
                items: [
                    "redo", "|", "undo", "|", "bold", "|", "italic", "|", "strikethrough", "|", "insertorderedlist", "|",
                    "insertunorderedlist", "|", "code", "|", "formatblock", "|", "table", "|", "link", "|", "unlink", "|",
                    "image", "|", "fontname", "|", "fontsize", "|", "insertfile"
                ], width: '100%',
                uploadJson: './kindeditor/jsp/upload_json.jsp',
                fileMangerJson: './kindeditor/jsp/file_manager_json.jsp',
                allowUpload: true,
                afterUpload: function (url) {
                    // ////console.log(url)   //上传图片的路径
                }
            });

            $(".kwSumbit").click(function () {
                $("#editor_id").val(editor.html())
            })
            $("#preview").empty();
            $("#previewbtn").click(function () {
                $("#preview").html(editor.html())
                SyntaxHighlighter.highlight()

            })


        });

        layui.use(['form', 'laypage'], function () {
            laypage = layui.laypage;
            form = layui.form;
            //////////////console.log("表单、。。。。。。")
            // form表单提交   ---  onsubmit事件阻断方案
            //此处去获取2级列表数据
            form.on('select(cate1)', function (data) {
                ////////////console.log(data.elem); //得到select原始DOM对象
                ////////////console.log(data.value); //得到被选中的值
                ////////////console.log(data.othis); //得到美化后的DOM对象

                //此处去获取2级列表数据

                ajaxGetCategory2(data.value);
            });

            form.on('submit(createComment)', function (data) {
                ////////////////console.log(data.elem) //被执行事件的元素DOM对象，一般为button对象
                ////////////////console.log(data.form) //被执行提交的form对象，一般在存在form标签时才会返回
                //////////////console.log(data.field) //当前容器的全部表单字段，名值对形式：{name: value}


                ajaxCreateComment(data.field)


                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
            });

        });

        function ajaxCreateComment(data) {
            if (userid == 0) {
                layer.open({
                    content: '你还未登录'
                    , btn: ['登录', '退出']
                    , yes: function (index, layero) {
                        //按钮【按钮一】的回调
                        location.href = "login.html";
                        layer.close(index);
                    }
                    , btn2: function (index, layero) {
                        layer.close(index);
                    }
                });
                return false;
            }
            var title = data.title;
            var categoryid = data.categoryid;
            var categoryid2 = data.categoryid2;
            content=$("#editor_id").val()
            console.log(content)
            $.ajax({
                url: "saveInvitation",
                data: {
                    "userid":userid,
                    "title":title,
                    "categoryid":categoryid,
                    "categoryid2":categoryid2,
                    "content":content

                },
                type: "POST",
                dataType: "json",
                success: function (jsonData) {

                    var realFlag = jsonData.success;

                    layer.msg(realFlag == 200 ? "发帖成功" : "发帖失败");
                    if (realFlag == 200) {
                        setTimeout(function () {
                            location.href = "forumsubdivide.html?id="+categoryid2+"&pid="+categoryid;
                        }, 1 * 800)
                    }

                },
                error: function (xhr) {

                }

            })
        }

    </script>
</html>